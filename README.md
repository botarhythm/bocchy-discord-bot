# bocchy-discord-bot

## 概要

bocchy-discord-botは、Discordサーバーで"人間らしい空気読み"と"高度な文脈理解"を実現するAIチャットボットです。

- OpenAI（GPT-4o）による自然言語応答
- Google検索連携による最新情報の自動取得
- Supabaseによる短期・長期記憶管理
- ニックネーム・メンバーリスト取得、時刻・挨拶応答
- **AIによる盛り上がり検知・空気読み介入（NEW!）**

## 技術的キーポイント

### 1. AI盛り上がり検知・空気読み介入
- Discordチャンネルの会話履歴をAIで解析し、盛り上がり度（1〜10）を自動判定
- 盛り上がりが高いときはクールダウン（介入間隔）を自動で短縮し、空気を読んで自然に会話へ介入
- 会話の流れや雰囲気を理解し、適切なタイミングで自発的に発言
- **現状は全メッセージでAI判定を実行しており、APIコスト配慮設計（自己機能説明時や管理者指示時のみ有効化）は今後の拡張余地あり**

### 2. Google検索連携
- クエリ検知時にGoogle Custom Search APIで最新情報を取得し、要約・出典付きで返答

### 3. 短期・長期記憶
- Supabaseを用いて会話履歴や要約を保存し、文脈を維持

### 4. 自然介入・コマンドレス応答
- メンションやコマンドがなくても、会話の流れや盛り上がりに応じて自発的に発言

## 今後の拡張ポイント
- APIコストを抑えるための「自己機能説明時や管理者指示時のみAI判定有効化」ロジックの導入
- ルールベース＋AIハイブリッドによる効率的な空気読み

## ライセンス
MIT 